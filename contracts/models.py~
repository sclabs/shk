from django.db import models

# Create your models here.
class Village(models.Model):
    name = models.CharField(max_length = 30)
    user = models.ForeignKey(models.User)

    def __unicode__(self):
        return self.name

class IOU(models.Model):
    issuer = models.ForeignKey(models.User)
    holder = models.ForeignKey(models.User)
    qty    = models.IntegerField()
    type   = models.CharField(max_length=10, choices=contracts.models.GOOD_TYPES)

    def __unicode__(self):
        return u'%s owes %s %s %s' % (self.issuer, self.holder, self.qty, self.type)

class Contract(models.Model):
    sender    = models.ForeignKey(models.User)
    recipient = models.ForeignKey(Village)
    iou       = models.ForeignKey(IOU)
    qty       = models.IntegerField()
    type      = models.CharField(max_length=10, choices=contrats.models.GOOD_TYPES)
    timeout   = models.DateTimeField() 

GOOD_TYPES (
    ('wood', 'Wood'),
    ('stone', 'Stone'),
    ('iron', 'Iron'),
    ('pitch', 'Pitch'),
    ('venison', 'Venison'),
    ('furniture', 'Furniture'),
    ('metalware', 'Metalware'),
    ('clothes', 'Clothes'),
    ('wine', 'Wine'),
    ('salt', 'Salt'),
    ('spices', 'Spices'),
    ('silk', 'Silk'),
    ('apples', 'Apples'),
    ('cheese', 'Cheese'),
    ('meat', 'Meat'),
    ('bread', 'Bread'),
    ('vegetables', 'Vegetables'),
    ('fish', 'Fish'),
    ('ale', 'Ale'),
    ('bows', 'Bows')
    ('pikes', 'Pikes')
    ('armour', 'Armour')
    ('swords', 'Swords')
    ('catapults', 'Catapults')
)
